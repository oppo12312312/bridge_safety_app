(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/index"],{"17d3":function(e,o,t){"use strict";var n=t("f96d"),s=t.n(n);s.a},6119:function(e,o,t){"use strict";t.r(o);var n=t("da73"),s=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(o,e,function(){return n[e]})}(a);o["default"]=s.a},da73:function(e,o,t){"use strict";(function(e,t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={data:function(){return{userName:"",password:"",keep:!1}},onReady:function(){var o=this;e.getStorage({key:"userInfo",success:function(e){var n=e.data;o.userName=n.userName,o.password=n.password,o.keep=n.keep,console.log(t(e," at pages/login/index.vue:43"))}}),e.showModal({content:"测试蓝牙",showCancel:!0}),e.showModal({content:plus,showCancel:!0}),e.showModal({content:plus.bluetooth,showCancel:!0}),plus.bluetooth.getBluetoothAdapterState({success:function(o){e.showModal({content:"state success: "+JSON.stringify(o),showCancel:!0})},fail:function(o){e.showModal({content:"state error: "+JSON.stringify(o),showCancel:!0})}}),plus.bluetooth.openBluetoothAdapter({success:function(o){console.log(t("open success: "+JSON.stringify(o)," at pages/login/index.vue:74")),plus.bluetooth.startBluetoothDevicesDiscovery({success:function(o){console.log(t("start discovery success: "+JSON.stringify(o)," at pages/login/index.vue:77")),e.showModal({content:"start discovery success: "+JSON.stringify(o),showCancel:!0})},fail:function(o){console.log(t("start discovery failed: "+JSON.stringify(o)," at pages/login/index.vue:84")),e.showModal({content:"start discovery failed: "+JSON.stringify(o),showCancel:!0})}})},fail:function(e){console.log(t("open failed: "+JSON.stringify(e)," at pages/login/index.vue:93"))}}),setTimeout(function(){e.showModal({content:"定时器20s",showCancel:!0}),plus.bluetooth.getBluetoothDevices({success:function(o){o.devices;e.showModal({content:"获取成功",showCancel:!0}),e.showModal({content:JSON.stringify(o.devices),showCancel:!0})},fail:function(o){e.showModal({content:"get devices failed: "+JSON.stringify(o),showCancel:!0})}})},2e4),plus.bluetooth.getBluetoothDevices({success:function(o){o.devices;e.showModal({content:"获取成功",showCancel:!0}),e.showModal({content:JSON.stringify(o.devices),showCancel:!0})},fail:function(o){e.showModal({content:"get devices failed: "+JSON.stringify(o),showCancel:!0})}})},methods:{changeKeep:function(e){this.keep=e.detail.value.length>0},login:function(){if(console.log(t(this.keep," at pages/login/index.vue:148")),""!==this.userName)if(""!==this.password){var o=this;this.$service.login.login({password:this.password,userName:this.userName}).then(function(t){0===t.code?o.setUserInfo(t.msg):(o.keep=!1,e.showModal({content:"账号或密码错误",showCancel:!1}))})}else e.showModal({content:"请输入登录密码",showCancel:!1});else e.showModal({content:"请输入登录账号",showCancel:!1})},setUserInfo:function(o){var t=this,n=this;e.setStorageSync("userInfo",{token:o}),this.$service.myuser.findUserByToken({token:o}).then(function(s){t.$service.myuser.findDepartmentByOrgId({orgId:s.msg.user.orgId}).then(function(t){e.setStorageSync("userInfo",{user:s.msg.user,token:o,depInfo:t.msg.department,keep:n.keep,password:n.password,userName:n.userName}),e.switchTab({url:"/pages/index/index"})})})}}};o.default=n}).call(this,t("6e42")["default"],t("0de9")["default"])},f22e:function(e,o,t){"use strict";var n=function(){var e=this,o=e.$createElement;e._self._c},s=[];t.d(o,"a",function(){return n}),t.d(o,"b",function(){return s})},f96d:function(e,o,t){},fe55:function(e,o,t){"use strict";t.r(o);var n=t("f22e"),s=t("6119");for(var a in s)"default"!==a&&function(e){t.d(o,e,function(){return s[e]})}(a);t("17d3");var i=t("2877"),c=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,null,null);o["default"]=c.exports}},[["ca4a","common/runtime","common/vendor"]]]);